---
import type { ModulesModulesContentSegmentsLayout } from '@/__generated__/cms';
import ColoredImageCards from '@/components/ColoredImageCards.astro';
import ModuleContainer from '@/components/ModuleContainer.astro';
import { cleanArray } from '@/scripts/cleanArray';
import type { WithModuleMeta } from '@/types';

type Props = WithModuleMeta<ModulesModulesContentSegmentsLayout>;

const {
  __meta__,
  layoutName,
  backgroundColor,
  segmentsCards: cards,
} = Astro.props;
const filteredCards = cleanArray(cards);
---

<ModuleContainer meta={__meta__} name={layoutName!} bg={backgroundColor}>
  <ColoredImageCards cards={filteredCards} />
</ModuleContainer>
