---
import type { ModulesModulesContentSectionTitleLayout } from '@/__generated__/cms';
import ModuleContainer from '@/components/ModuleContainer.astro';
import UISectionTitle from '@/components/partials/SectionTitle.astro';
import Container from '@/components/ui/Container.astro';
import { cn } from '@/scripts/cn';
import {
  parseSectionTitle,
  sectionTitleShouldRender,
} from '@/scripts/data-parsers/parseSectionTitle';

type Props = ModulesModulesContentSectionTitleLayout;

const { layoutName, backgroundColor, sectionTitle } = Astro.props;
const data = sectionTitle?.selectSectionTitle;
const parsed = parseSectionTitle(data);
---

{
  sectionTitleShouldRender(data) && (
    <ModuleContainer
      name={layoutName!}
      bg={backgroundColor}
      class={cn({
        'display-as-overline': parsed.displayAs === 'overline',
      })}
    >
      <Container>
        <UISectionTitle {...parsed} />
      </Container>
    </ModuleContainer>
  )
}
