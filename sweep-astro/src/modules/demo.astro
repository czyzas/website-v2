---
import type { ModulesModulesContentDemoLayout } from '@/__generated__/cms';
import ModuleContainer from '@/components/ModuleContainer.astro';
import DemoComponent from '@/components/Demo.astro';
import { fixDoubleBr } from '@/scripts/fixDoubleBr';
import type { WithModuleMeta } from '@/types';

type Props = WithModuleMeta<ModulesModulesContentDemoLayout>;

const { __meta__, layoutName, backgroundColor, title, image, button } =
  Astro.props;
---

<ModuleContainer meta={__meta__} name={layoutName!} bg={backgroundColor}>
  <DemoComponent
    title={fixDoubleBr(title)}
    image={image}
    button={button}
    variant={__meta__.moduleType === 'article' ? 'small' : 'base'}
  />
</ModuleContainer>
