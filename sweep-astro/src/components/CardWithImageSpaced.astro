---
import type { HTMLAttributes } from 'astro/types';
import type { UnparsedImage } from '@/scripts/data-parsers/parseImage';
import { cn } from '@/scripts/cn';
import type { WithAttributes } from '@/types';
import WordpressImage from './WordpressImage.astro';
import Card from './ui/Card.astro';
import Grid from './ui/Grid.astro';

type Props = WithAttributes<
  {
    image?: UnparsedImage;
  } & HTMLAttributes<'div'>
>;

const { class: className, image, ...props } = Astro.props;
---

<Grid
  {...props}
  class={cn('card-with-image-spaced', 'items-center', className)}
>
  <Card class="col-span-full md:col-span-6 lg:col-start-1 lg:col-end-5">
    <slot />
  </Card>
  <div
    class="col-span-full md:col-start-7 md:col-end-13 lg:col-start-6 lg:col-end-12"
  >
    <WordpressImage data={image} class="mx-auto" />
  </div>
</Grid>
