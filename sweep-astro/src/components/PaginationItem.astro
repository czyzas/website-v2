---
import type { HTMLAttributes } from 'astro/types';
import type { WithAttributes } from '@/types';
import { cn } from '@/scripts/cn';

interface PaginationItemProps {
  active?: boolean;
}

type LinkProps = HTMLAttributes<'a'> & { link: string };
type SpanProps = HTMLAttributes<'span'> & { link?: never };

type Props = WithAttributes<LinkProps | SpanProps> & PaginationItemProps;

const { class: className, link = '', active = false, ...props } = Astro.props;
const isLink = !!link;

const Tag = link ? 'a' : 'span';
---

<li>
  <Tag
    {...props}
    href={isLink ? link : undefined}
    class={cn(
      'pagination-item',
      'flex size-10 select-none items-center justify-center text-center tabular-nums',
      'typography-body bg-white text-black',
      { 'cursor-default': !isLink },
      { 'hover:bg-sw-surface-subdued': isLink },
      { 'bg-sw-sky-400 text-white': active },
      className
    )}><slot /></Tag
  >
</li>
