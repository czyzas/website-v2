---
import type { UnparsedImage } from '@/scripts/data-parsers/parseImage';
import { cn } from '@/scripts/cn';
import WordpressImage from './WordpressImage.astro';
import Card from './ui/Card.astro';
import Grid from './ui/Grid.astro';

interface Props {
  columns?: number;
  logos?: UnparsedImage[];
}

const { columns = 4, logos = [] } = Astro.props;

const columnClassName: Record<number, string> = {
  1: cn('col-span-full'),
  2: cn('col-span-full xs:col-span-6'),
  3: cn('col-span-full xs:col-span-6 md:col-span-4'),
  4: cn('col-span-full xs:col-span-6 md:col-span-4 lg:col-span-3'),
};
---

{
  logos.length > 0 && (
    <Grid>
      {logos.map((logo) => (
        <Card
          class={cn(
            'customer-logo p-6 flex items-center justify-center',
            columnClassName?.[columns] ?? 'col-span-full'
          )}
        >
          <WordpressImage
            data={logo}
            class="max-h-full max-w-full object-contain"
          />
        </Card>
      ))}
    </Grid>
  )
}
