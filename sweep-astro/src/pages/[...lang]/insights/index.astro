---
import { defaultLocale } from '@/i18n/config';
import { fetchSinglePageStaticPaths } from '@/lib/fetchCMSData';
import { createSinglePageStaticPaths } from '@/scripts/utils-static-paths';
import InsightsList from '@/templates/InsightsList.astro';

export async function getStaticPaths() {
  return createSinglePageStaticPaths(
    await fetchSinglePageStaticPaths('/insights')
  );
}

const { lang = defaultLocale } = Astro.params;
---

<InsightsList lang={lang} />
