---
import { defaultLocale } from '@/i18n/config';
import {
  fetchNewsroomListPage,
  fetchSinglePageStaticPaths,
} from '@/lib/fetchCMSData';
import { createSingleDefaultPageStaticPaths } from '@/scripts/utils-static-paths';
import ArticlesList from '@/templates/ArticlesList.astro';

export async function getStaticPaths() {
  return createSingleDefaultPageStaticPaths(
    await fetchSinglePageStaticPaths('/newsroom')
  );
}

const { lang = defaultLocale } = Astro.params;
const data = await fetchNewsroomListPage(lang);
---

<ArticlesList postType="newsroom" data={data} lang={lang} />
