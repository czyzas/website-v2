---
import Layout from '@/layouts/Layout.astro';
import { cmsStore } from '@/stores/cmsStore';
import { updateStore } from '@/scripts/store';
import Hero from '@/components/homepage-sections/Hero.astro';
import CaseStudies from '@/components/homepage-sections/CaseStudies.astro';
import Customers from '@/components/homepage-sections/Customers.astro';
import Demo from '@/components/homepage-sections/Demo.astro';
import Goals from '@/components/homepage-sections/Goals.astro';
import Industries from '@/components/homepage-sections/Industries.astro';
import Partners from '@/components/homepage-sections/Partners.astro';
import Platform from '@/components/homepage-sections/Platform.astro';
import Resources from '@/components/homepage-sections/Resources.astro';
import WhoWeWorkWith from '@/components/homepage-sections/WhoWeWorkWith.astro';
import { languageStore } from '@/stores/languageStore';
import Regulations from '@/components/homepage-sections/Regulations.astro';
import type { HomepageQuery } from '@/__generated__/cms';

interface Props {
  data: HomepageQuery;
}

const { data } = Astro.props;

updateStore(cmsStore, 'homepage', data.page!);
updateStore(languageStore, 'currentLanguage', data.page!.language!);
updateStore(languageStore, 'languages', data.languages);
updateStore(cmsStore, 'primaryMenu', data.primaryMenu!);
updateStore(cmsStore, 'themeOptions', data.themeOptions!);
---

<Layout home name="homepage" pageTitle={data.page?.title ?? ''}>
  <Hero />
  <Goals />
  <Customers type={1} />
  <Platform />
  <Regulations />
  <WhoWeWorkWith />
  <Industries />
  <CaseStudies />
  <Resources />
  <Partners />
  <Customers type={2} />
  <Demo />
</Layout>
